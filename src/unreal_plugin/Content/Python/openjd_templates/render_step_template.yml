name: Render
parameterSpace:
  taskParameterDefinitions:
  - name: Handler
    type: STRING
    range: []
  - name: QueueManifestPath
    type: PATH
    range: []
  - name: TaskChunkSize
    type: INT
    range: []
  - name: TaskChunkId
    type: INT
    range: []
script:
  embeddedFiles:
  - name: runData
    filename: run-data.yaml
    type: TEXT
    data: |
      handler: {{Task.Param.Handler}}
      queue_manifest_path: {{Task.Param.QueueManifestPath}}
      task_chunk_size: {{Task.Param.TaskChunkSize}}
      task_chunk_id: {{Task.Param.TaskChunkId}}
  actions:
    onRun:
      command: unreal-engine-openjd
      args:
      - daemon
      - run
      - --connection-file
      - '{{Session.WorkingDirectory}}/connection.json'
      - --run-data
      - file://{{ Task.File.runData }}
      cancelation:
        mode: NOTIFY_THEN_TERMINATE